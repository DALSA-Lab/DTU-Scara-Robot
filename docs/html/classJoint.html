<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bioscara: Joint Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="dtu_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Bioscara
   </div>
   <div id="projectbrief">DALSAs DIY SCARA robot arm.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classJoint-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Joint Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Representing a single joint on the I2C bus.  
 <a href="classJoint.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mJoint_8h_source.html">mJoint.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a16b777e9bc6a7378126942d3d786dcfb" id="r_a16b777e9bc6a7378126942d3d786dcfb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a16b777e9bc6a7378126942d3d786dcfb">Joint</a> (const int <a class="el" href="classJoint.html#a7acd5a4c4b870de8674167b48504c95c">address</a>, const std::string <a class="el" href="classJoint.html#a57e3afaab4abae515d5053018e3cc886">name</a>, const float <a class="el" href="classJoint.html#a8388570a9824deb1631cb6feec908335">reduction</a>, const float <a class="el" href="classJoint.html#a83ba15eb990b4a47501fc7377b5093ff">offset</a>)</td></tr>
<tr class="memdesc:a16b777e9bc6a7378126942d3d786dcfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="classJoint.html" title="Representing a single joint on the I2C bus.">Joint</a> object.  <br /></td></tr>
<tr class="separator:a16b777e9bc6a7378126942d3d786dcfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab62f504bb7a06ced79c24c54e254349e" id="r_ab62f504bb7a06ced79c24c54e254349e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#ab62f504bb7a06ced79c24c54e254349e">init</a> (void)</td></tr>
<tr class="memdesc:ab62f504bb7a06ced79c24c54e254349e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Established connection to a joint via I2C.  <br /></td></tr>
<tr class="separator:ab62f504bb7a06ced79c24c54e254349e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3de221dc515ba43c8ae3a1d08751d6" id="r_a5d3de221dc515ba43c8ae3a1d08751d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a5d3de221dc515ba43c8ae3a1d08751d6">deinit</a> (void)</td></tr>
<tr class="memdesc:a5d3de221dc515ba43c8ae3a1d08751d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects from a joint.  <br /></td></tr>
<tr class="separator:a5d3de221dc515ba43c8ae3a1d08751d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc0fef67c332a238cc0897c06d157a22" id="r_abc0fef67c332a238cc0897c06d157a22"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#abc0fef67c332a238cc0897c06d157a22">printInfo</a> (void)</td></tr>
<tr class="separator:abc0fef67c332a238cc0897c06d157a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcda66b87fdca763475cf1cd7d309b1c" id="r_abcda66b87fdca763475cf1cd7d309b1c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#abcda66b87fdca763475cf1cd7d309b1c">getPosition</a> (float &amp;pos)</td></tr>
<tr class="memdesc:abcda66b87fdca763475cf1cd7d309b1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the current joint position in radians or m for cylindrical and prismatic joints respectively.  <br /></td></tr>
<tr class="separator:abcda66b87fdca763475cf1cd7d309b1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365628f72a742bb383f6e495b7d9f74a" id="r_a365628f72a742bb383f6e495b7d9f74a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a365628f72a742bb383f6e495b7d9f74a">setPosition</a> (float pos)</td></tr>
<tr class="memdesc:a365628f72a742bb383f6e495b7d9f74a"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the current joint position in radians or m for cylindrical and prismatic joints respectively.  <br /></td></tr>
<tr class="separator:a365628f72a742bb383f6e495b7d9f74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a833014ec8a9c7d9cf888c54bda13f644" id="r_a833014ec8a9c7d9cf888c54bda13f644"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a833014ec8a9c7d9cf888c54bda13f644">moveSteps</a> (int32_t steps)</td></tr>
<tr class="memdesc:a833014ec8a9c7d9cf888c54bda13f644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move full steps.  <br /></td></tr>
<tr class="separator:a833014ec8a9c7d9cf888c54bda13f644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afce77655c67f0b8ce75acc4e0cfdd016" id="r_afce77655c67f0b8ce75acc4e0cfdd016"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#afce77655c67f0b8ce75acc4e0cfdd016">getVelocity</a> (float &amp;vel)</td></tr>
<tr class="memdesc:afce77655c67f0b8ce75acc4e0cfdd016"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the current joint velocity in radians/s or m/s for cylindrical and prismatic joints respectively.  <br /></td></tr>
<tr class="separator:afce77655c67f0b8ce75acc4e0cfdd016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dbda9cbf3b38d85bc693a742998bbe0" id="r_a3dbda9cbf3b38d85bc693a742998bbe0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a3dbda9cbf3b38d85bc693a742998bbe0">setVelocity</a> (float vel)</td></tr>
<tr class="memdesc:a3dbda9cbf3b38d85bc693a742998bbe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the current joint velocity in radians/s or m/s for cylindrical and prismatic joints respectively.  <br /></td></tr>
<tr class="separator:a3dbda9cbf3b38d85bc693a742998bbe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80055657a0ece2c9212eec16774d2789" id="r_a80055657a0ece2c9212eec16774d2789"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a80055657a0ece2c9212eec16774d2789">checkOrientation</a> (float angle=10.0)</td></tr>
<tr class="memdesc:a80055657a0ece2c9212eec16774d2789"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the checkOrientation method of the motor. Checks in which direction the motor is turning.  <br /></td></tr>
<tr class="separator:a80055657a0ece2c9212eec16774d2789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3714c35d4488d03280a7c2dc9e415ee0" id="r_a3714c35d4488d03280a7c2dc9e415ee0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a3714c35d4488d03280a7c2dc9e415ee0">enable</a> (u_int8_t driveCurrent, u_int8_t holdCurrent)</td></tr>
<tr class="memdesc:a3714c35d4488d03280a7c2dc9e415ee0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the joint and engages motor.  <br /></td></tr>
<tr class="separator:a3714c35d4488d03280a7c2dc9e415ee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac591f5aaee3d8afb2768a67e5f0e4f38" id="r_ac591f5aaee3d8afb2768a67e5f0e4f38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#ac591f5aaee3d8afb2768a67e5f0e4f38">disable</a> (void)</td></tr>
<tr class="memdesc:ac591f5aaee3d8afb2768a67e5f0e4f38"><td class="mdescLeft">&#160;</td><td class="mdescRight">disenganges the joint motor without closing i2c handle  <br /></td></tr>
<tr class="separator:ac591f5aaee3d8afb2768a67e5f0e4f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ac099943f07278fa2f9c15c9f6d3002" id="r_a5ac099943f07278fa2f9c15c9f6d3002"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a5ac099943f07278fa2f9c15c9f6d3002">home</a> (u_int8_t direction, u_int8_t rpm, u_int8_t sensitivity, u_int8_t current)</td></tr>
<tr class="memdesc:a5ac099943f07278fa2f9c15c9f6d3002"><td class="mdescLeft">&#160;</td><td class="mdescRight">Homes the motor.  <br /></td></tr>
<tr class="separator:a5ac099943f07278fa2f9c15c9f6d3002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89deba37891f86ec4cedbd7e3e001133" id="r_a89deba37891f86ec4cedbd7e3e001133"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a89deba37891f86ec4cedbd7e3e001133">stop</a> (bool mode)</td></tr>
<tr class="memdesc:a89deba37891f86ec4cedbd7e3e001133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the motor.  <br /></td></tr>
<tr class="separator:a89deba37891f86ec4cedbd7e3e001133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35fe15f5bbaf68a9751f02b9c5ee93d" id="r_ac35fe15f5bbaf68a9751f02b9c5ee93d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#ac35fe15f5bbaf68a9751f02b9c5ee93d">disableCL</a> (void)</td></tr>
<tr class="memdesc:ac35fe15f5bbaf68a9751f02b9c5ee93d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the Closed-Loop PID Controller.  <br /></td></tr>
<tr class="separator:ac35fe15f5bbaf68a9751f02b9c5ee93d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35a2db0195dc5dc7603810ab355acd94" id="r_a35a2db0195dc5dc7603810ab355acd94"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a35a2db0195dc5dc7603810ab355acd94">setDriveCurrent</a> (u_int8_t current)</td></tr>
<tr class="memdesc:a35a2db0195dc5dc7603810ab355acd94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the Drive Current.  <br /></td></tr>
<tr class="separator:a35a2db0195dc5dc7603810ab355acd94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6c87283498d811fbf7b4936225d5b77" id="r_ad6c87283498d811fbf7b4936225d5b77"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#ad6c87283498d811fbf7b4936225d5b77">setHoldCurrent</a> (u_int8_t current)</td></tr>
<tr class="memdesc:ad6c87283498d811fbf7b4936225d5b77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the Hold Current.  <br /></td></tr>
<tr class="separator:ad6c87283498d811fbf7b4936225d5b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace371fa42a397f96ac6bef7e2faffbbd" id="r_ace371fa42a397f96ac6bef7e2faffbbd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#ace371fa42a397f96ac6bef7e2faffbbd">setBrakeMode</a> (u_int8_t mode)</td></tr>
<tr class="memdesc:ace371fa42a397f96ac6bef7e2faffbbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Brake Mode.  <br /></td></tr>
<tr class="separator:ace371fa42a397f96ac6bef7e2faffbbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace6f23fd07b18c93a5bfa0eb3b169ead" id="r_ace6f23fd07b18c93a5bfa0eb3b169ead"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#ace6f23fd07b18c93a5bfa0eb3b169ead">setMaxAcceleration</a> (float maxAccel)</td></tr>
<tr class="memdesc:ace6f23fd07b18c93a5bfa0eb3b169ead"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum permitted joint acceleration (and deceleration) in rad/s^2 or m/s^2 for cylindrical and prismatic joints respectively.  <br /></td></tr>
<tr class="separator:ace6f23fd07b18c93a5bfa0eb3b169ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d0f0be9bc855b75ae88e88043f4bfa4" id="r_a4d0f0be9bc855b75ae88e88043f4bfa4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a4d0f0be9bc855b75ae88e88043f4bfa4">setMaxVelocity</a> (float maxVel)</td></tr>
<tr class="memdesc:a4d0f0be9bc855b75ae88e88043f4bfa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum permitted joint velocity in rad/s or m/s for cylindrical and prismatic joints respectively.  <br /></td></tr>
<tr class="separator:a4d0f0be9bc855b75ae88e88043f4bfa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4269e05eca7c3d773d5ea2e7c25c2300" id="r_a4269e05eca7c3d773d5ea2e7c25c2300"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a4269e05eca7c3d773d5ea2e7c25c2300">enableStallguard</a> (u_int8_t sensitivity)</td></tr>
<tr class="memdesc:a4269e05eca7c3d773d5ea2e7c25c2300"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable encoder stall detection. A detected stall can be reset by homeing.  <br /></td></tr>
<tr class="separator:a4269e05eca7c3d773d5ea2e7c25c2300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace70cee21bf7ff76ba85199a1d3f8d73" id="r_ace70cee21bf7ff76ba85199a1d3f8d73"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#ace70cee21bf7ff76ba85199a1d3f8d73">isHomed</a> (void)</td></tr>
<tr class="memdesc:ace70cee21bf7ff76ba85199a1d3f8d73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the state if the motor is homed.  <br /></td></tr>
<tr class="separator:ace70cee21bf7ff76ba85199a1d3f8d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21992c45ebb98f82de4af9620d6b3db2" id="r_a21992c45ebb98f82de4af9620d6b3db2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a21992c45ebb98f82de4af9620d6b3db2">isEnabled</a> (void)</td></tr>
<tr class="memdesc:a21992c45ebb98f82de4af9620d6b3db2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the state if the motor is enabled.  <br /></td></tr>
<tr class="separator:a21992c45ebb98f82de4af9620d6b3db2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59b50f0bbd3dec54cc03ebd844078208" id="r_a59b50f0bbd3dec54cc03ebd844078208"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a59b50f0bbd3dec54cc03ebd844078208">isStalled</a> (void)</td></tr>
<tr class="memdesc:a59b50f0bbd3dec54cc03ebd844078208"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the motor is stalled.  <br /></td></tr>
<tr class="separator:a59b50f0bbd3dec54cc03ebd844078208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a8ab4b5a0cf027c7f433c744c956c5a" id="r_a9a8ab4b5a0cf027c7f433c744c956c5a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a9a8ab4b5a0cf027c7f433c744c956c5a">checkCom</a> (void)</td></tr>
<tr class="separator:a9a8ab4b5a0cf027c7f433c744c956c5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaabb82e69a71afd9d4822ed38d36bcc" id="r_acaabb82e69a71afd9d4822ed38d36bcc"><td class="memItemLeft" align="right" valign="top">u_int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#acaabb82e69a71afd9d4822ed38d36bcc">getFlags</a> (void)</td></tr>
<tr class="separator:acaabb82e69a71afd9d4822ed38d36bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a57e3afaab4abae515d5053018e3cc886" id="r_a57e3afaab4abae515d5053018e3cc886"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a57e3afaab4abae515d5053018e3cc886">name</a></td></tr>
<tr class="separator:a57e3afaab4abae515d5053018e3cc886"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a8e8dbb90cccefd4f3ee472c6e8c85c18" id="r_a8e8dbb90cccefd4f3ee472c6e8c85c18"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18">stp_reg_t</a> { <br />
&#160;&#160;<a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18af922c6520e40e336b7130cdb24d388c7">PING</a> = 0x0f
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a6fd4544fbf900a87dd6990477feebd9e">SETUP</a> = 0x10
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18afe94954e7116cdc52e361c6b6dcac960">SETRPM</a> = 0x11
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18ab83f51f6dcfe2f934e5fdd5dddeed8fb">GETDRIVERRPM</a> = 0x12
, <br />
&#160;&#160;<a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a22d51a84d712495b73dbb81b39b176d0">MOVESTEPS</a> = 0x13
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a49bf3d0eadbe640897a4638a6bfa097c">MOVEANGLE</a> = 0x14
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18ab23a3ac6f783ee9b32c90eb588921564">MOVETOANGLE</a> = 0x15
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a1660a4ec900f02ab8881f082009b7b6a">GETMOTORSTATE</a> = 0x16
, <br />
&#160;&#160;<a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a9e586e9d7223b163c8b2e138cf9924b8">RUNCOTINOUS</a> = 0x17
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a7daaf07b3619c037524e31c73320d7ee">ANGLEMOVED</a> = 0x18
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a4763bc90cfb24d8c7dcdc86e56d696d1">SETCURRENT</a> = 0x19
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a73b9e7d52741ac3a9f151c9c8fdf240a">SETHOLDCURRENT</a> = 0x1A
, <br />
&#160;&#160;<a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a49346b52978f793d7b0df1cc079ca553">SETMAXACCELERATION</a> = 0x1B
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18ac7f27dd47328fd48cf2132d61d56b816">SETMAXDECELERATION</a> = 0x1C
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a9c21c01868f3b75414574bde1c3a56fa">SETMAXVELOCITY</a> = 0x1D
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a4289e8f46427f607ec5c42d3c453552c">ENABLESTALLGUARD</a> = 0x1E
, <br />
&#160;&#160;<a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a25c58b5388feba1494c04db8c6268bdc">DISABLESTALLGUARD</a> = 0x1F
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18aa7c2d68da4de8b055714f2673355888a">CLEARSTALL</a> = 0x20
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18ae4bf64332f66fba30edffe2741e1acad">ISSTALLED</a> = 0x21
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a24a0636219d40c6bc04c13607a73bf14">SETBRAKEMODE</a> = 0x22
, <br />
&#160;&#160;<a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a808e1cfabc9285982e126715258f7650">ENABLEPID</a> = 0x23
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18adb96e473112b918eadc29e0aac92514e">DISABLEPID</a> = 0x24
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a156ef7be500b4e86e397cdbd7fb798ff">ENABLECLOSEDLOOP</a> = 0x25
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a5cd1d217ad26bf47859a1f33f73088a5">DISABLECLOSEDLOOP</a> = 0x26
, <br />
&#160;&#160;<a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a346c81a366404119562626b4442c0012">SETCONTROLTHRESHOLD</a> = 0x27
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18abb21ab5d530f13cfd2a1e0999faa8032">MOVETOEND</a> = 0x28
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a1c3854c27bdc5c8a6742b9613c13e9f7">STOP</a> = 0x29
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a8cccebc9d7d67d2438d7250512f175dd">GETPIDERROR</a> = 0x2A
, <br />
&#160;&#160;<a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18ac4090a70644d3e7dcf12ec04cf8c0cb0">CHECKORIENTATION</a> = 0x2B
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a4635d4f0488752377862eec66c9c53b6">GETENCODERRPM</a> = 0x2C
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18aa188969e84239aee3334c3ac140dec6f">HOME</a> = 0x2D
, <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a0d8573d34327245ac74c4a0a1998a4a6">ISHOMED</a> = 0x2E
, <br />
&#160;&#160;<a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18a049669e5098c849cfd332fb8e5434c0a">ISSETUP</a> = 0x2F
<br />
 }</td></tr>
<tr class="memdesc:a8e8dbb90cccefd4f3ee472c6e8c85c18"><td class="mdescLeft">&#160;</td><td class="mdescRight">register and command definitions  <a href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18">More...</a><br /></td></tr>
<tr class="separator:a8e8dbb90cccefd4f3ee472c6e8c85c18"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a438524f28b96d67c997b590c785b6e0e" id="r_a438524f28b96d67c997b590c785b6e0e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a438524f28b96d67c997b590c785b6e0e"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classJoint.html#a438524f28b96d67c997b590c785b6e0e">read</a> (const <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18">stp_reg_t</a> <a class="el" href="joint_8ino.html#a9428adc9af4653a2050e2536b55dec8d">reg</a>, T &amp;data, u_int8_t &amp;<a class="el" href="classJoint.html#ac6a4b19a9a677e36deeaee7afd148497">flags</a>)</td></tr>
<tr class="memdesc:a438524f28b96d67c997b590c785b6e0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper function to request data from the I2C slave.  <br /></td></tr>
<tr class="separator:a438524f28b96d67c997b590c785b6e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a516686bb9e04bccbd807e2c6123be730" id="r_a516686bb9e04bccbd807e2c6123be730"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a516686bb9e04bccbd807e2c6123be730"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classJoint.html#a516686bb9e04bccbd807e2c6123be730">write</a> (const <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18">stp_reg_t</a> <a class="el" href="joint_8ino.html#a9428adc9af4653a2050e2536b55dec8d">reg</a>, T data, u_int8_t &amp;<a class="el" href="classJoint.html#ac6a4b19a9a677e36deeaee7afd148497">flags</a>)</td></tr>
<tr class="memdesc:a516686bb9e04bccbd807e2c6123be730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper function to send command to the I2C slave.  <br /></td></tr>
<tr class="separator:a516686bb9e04bccbd807e2c6123be730"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ac6a4b19a9a677e36deeaee7afd148497" id="r_ac6a4b19a9a677e36deeaee7afd148497"><td class="memItemLeft" align="right" valign="top">u_int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#ac6a4b19a9a677e36deeaee7afd148497">flags</a> = 0x00</td></tr>
<tr class="memdesc:ac6a4b19a9a677e36deeaee7afd148497"><td class="mdescLeft">&#160;</td><td class="mdescRight">State flags transmitted with every I2C transaction.  <br /></td></tr>
<tr class="separator:ac6a4b19a9a677e36deeaee7afd148497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7acd5a4c4b870de8674167b48504c95c" id="r_a7acd5a4c4b870de8674167b48504c95c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a7acd5a4c4b870de8674167b48504c95c">address</a></td></tr>
<tr class="memdesc:a7acd5a4c4b870de8674167b48504c95c"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C adress.  <br /></td></tr>
<tr class="separator:a7acd5a4c4b870de8674167b48504c95c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8388570a9824deb1631cb6feec908335" id="r_a8388570a9824deb1631cb6feec908335"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a8388570a9824deb1631cb6feec908335">reduction</a> = 1</td></tr>
<tr class="memdesc:a8388570a9824deb1631cb6feec908335"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classJoint.html" title="Representing a single joint on the I2C bus.">Joint</a> to actuator reduction ratio.  <br /></td></tr>
<tr class="separator:a8388570a9824deb1631cb6feec908335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83ba15eb990b4a47501fc7377b5093ff" id="r_a83ba15eb990b4a47501fc7377b5093ff"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#a83ba15eb990b4a47501fc7377b5093ff">offset</a> = 0</td></tr>
<tr class="memdesc:a83ba15eb990b4a47501fc7377b5093ff"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classJoint.html" title="Representing a single joint on the I2C bus.">Joint</a> position offset.  <br /></td></tr>
<tr class="separator:a83ba15eb990b4a47501fc7377b5093ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afae800e0e291c5833c10d625c90e19a5" id="r_afae800e0e291c5833c10d625c90e19a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJoint.html#afae800e0e291c5833c10d625c90e19a5">handle</a> = -1</td></tr>
<tr class="memdesc:afae800e0e291c5833c10d625c90e19a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C bus handle.  <br /></td></tr>
<tr class="separator:afae800e0e291c5833c10d625c90e19a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Representing a single joint on the I2C bus. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a8e8dbb90cccefd4f3ee472c6e8c85c18" name="a8e8dbb90cccefd4f3ee472c6e8c85c18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e8dbb90cccefd4f3ee472c6e8c85c18">&#9670;&#160;</a></span>stp_reg_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18">Joint::stp_reg_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>register and command definitions </p>
<p>a register can be read (R) or written (W), each register has a size in bytes. The payload can be split into multiple values or just be a single value. Note that not all functions are implemented. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18af922c6520e40e336b7130cdb24d388c7" name="a8e8dbb90cccefd4f3ee472c6e8c85c18af922c6520e40e336b7130cdb24d388c7"></a>PING&#160;</td><td class="fielddoc"><p>R; Size: 1; [(char) ACK]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a6fd4544fbf900a87dd6990477feebd9e" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a6fd4544fbf900a87dd6990477feebd9e"></a>SETUP&#160;</td><td class="fielddoc"><p>W; Size: 2; [(uint8) holdCurrent, (uint8) driveCurrent]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18afe94954e7116cdc52e361c6b6dcac960" name="a8e8dbb90cccefd4f3ee472c6e8c85c18afe94954e7116cdc52e361c6b6dcac960"></a>SETRPM&#160;</td><td class="fielddoc"><p>W; Size: 4; [(float) RPM]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18ab83f51f6dcfe2f934e5fdd5dddeed8fb" name="a8e8dbb90cccefd4f3ee472c6e8c85c18ab83f51f6dcfe2f934e5fdd5dddeed8fb"></a>GETDRIVERRPM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a22d51a84d712495b73dbb81b39b176d0" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a22d51a84d712495b73dbb81b39b176d0"></a>MOVESTEPS&#160;</td><td class="fielddoc"><p>W; Size: 4; [(int32) steps]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a49bf3d0eadbe640897a4638a6bfa097c" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a49bf3d0eadbe640897a4638a6bfa097c"></a>MOVEANGLE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18ab23a3ac6f783ee9b32c90eb588921564" name="a8e8dbb90cccefd4f3ee472c6e8c85c18ab23a3ac6f783ee9b32c90eb588921564"></a>MOVETOANGLE&#160;</td><td class="fielddoc"><p>W; Size: 4; [(float) degrees]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a1660a4ec900f02ab8881f082009b7b6a" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a1660a4ec900f02ab8881f082009b7b6a"></a>GETMOTORSTATE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a9e586e9d7223b163c8b2e138cf9924b8" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a9e586e9d7223b163c8b2e138cf9924b8"></a>RUNCOTINOUS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a7daaf07b3619c037524e31c73320d7ee" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a7daaf07b3619c037524e31c73320d7ee"></a>ANGLEMOVED&#160;</td><td class="fielddoc"><p>R; Size: 4; [(float) degrees]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a4763bc90cfb24d8c7dcdc86e56d696d1" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a4763bc90cfb24d8c7dcdc86e56d696d1"></a>SETCURRENT&#160;</td><td class="fielddoc"><p>W; Size: 1; [(uint8) driveCurrent]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a73b9e7d52741ac3a9f151c9c8fdf240a" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a73b9e7d52741ac3a9f151c9c8fdf240a"></a>SETHOLDCURRENT&#160;</td><td class="fielddoc"><p>W; Size: 1; [(uint8) holdCurrent]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a49346b52978f793d7b0df1cc079ca553" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a49346b52978f793d7b0df1cc079ca553"></a>SETMAXACCELERATION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18ac7f27dd47328fd48cf2132d61d56b816" name="a8e8dbb90cccefd4f3ee472c6e8c85c18ac7f27dd47328fd48cf2132d61d56b816"></a>SETMAXDECELERATION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a9c21c01868f3b75414574bde1c3a56fa" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a9c21c01868f3b75414574bde1c3a56fa"></a>SETMAXVELOCITY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a4289e8f46427f607ec5c42d3c453552c" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a4289e8f46427f607ec5c42d3c453552c"></a>ENABLESTALLGUARD&#160;</td><td class="fielddoc"><p>W; Size: 1; [(uint8) threshold]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a25c58b5388feba1494c04db8c6268bdc" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a25c58b5388feba1494c04db8c6268bdc"></a>DISABLESTALLGUARD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18aa7c2d68da4de8b055714f2673355888a" name="a8e8dbb90cccefd4f3ee472c6e8c85c18aa7c2d68da4de8b055714f2673355888a"></a>CLEARSTALL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18ae4bf64332f66fba30edffe2741e1acad" name="a8e8dbb90cccefd4f3ee472c6e8c85c18ae4bf64332f66fba30edffe2741e1acad"></a>ISSTALLED&#160;</td><td class="fielddoc"><p>R; Size: 1; [(uint8) isStalled]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a24a0636219d40c6bc04c13607a73bf14" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a24a0636219d40c6bc04c13607a73bf14"></a>SETBRAKEMODE&#160;</td><td class="fielddoc"><p>W; Size: 1; [(uint8) mode]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a808e1cfabc9285982e126715258f7650" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a808e1cfabc9285982e126715258f7650"></a>ENABLEPID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18adb96e473112b918eadc29e0aac92514e" name="a8e8dbb90cccefd4f3ee472c6e8c85c18adb96e473112b918eadc29e0aac92514e"></a>DISABLEPID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a156ef7be500b4e86e397cdbd7fb798ff" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a156ef7be500b4e86e397cdbd7fb798ff"></a>ENABLECLOSEDLOOP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a5cd1d217ad26bf47859a1f33f73088a5" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a5cd1d217ad26bf47859a1f33f73088a5"></a>DISABLECLOSEDLOOP&#160;</td><td class="fielddoc"><p>W; Size: 1; [(uint8) 0]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a346c81a366404119562626b4442c0012" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a346c81a366404119562626b4442c0012"></a>SETCONTROLTHRESHOLD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18abb21ab5d530f13cfd2a1e0999faa8032" name="a8e8dbb90cccefd4f3ee472c6e8c85c18abb21ab5d530f13cfd2a1e0999faa8032"></a>MOVETOEND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a1c3854c27bdc5c8a6742b9613c13e9f7" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a1c3854c27bdc5c8a6742b9613c13e9f7"></a>STOP&#160;</td><td class="fielddoc"><p>W; Size: 1; [(uint8) mode]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a8cccebc9d7d67d2438d7250512f175dd" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a8cccebc9d7d67d2438d7250512f175dd"></a>GETPIDERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18ac4090a70644d3e7dcf12ec04cf8c0cb0" name="a8e8dbb90cccefd4f3ee472c6e8c85c18ac4090a70644d3e7dcf12ec04cf8c0cb0"></a>CHECKORIENTATION&#160;</td><td class="fielddoc"><p>W; Size: 4; [(float) degrees]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a4635d4f0488752377862eec66c9c53b6" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a4635d4f0488752377862eec66c9c53b6"></a>GETENCODERRPM&#160;</td><td class="fielddoc"><p>R; Size: 4; [(float) RPM]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18aa188969e84239aee3334c3ac140dec6f" name="a8e8dbb90cccefd4f3ee472c6e8c85c18aa188969e84239aee3334c3ac140dec6f"></a>HOME&#160;</td><td class="fielddoc"><p>W; Size: 4; [(uint8) current, (int8) sensitivity, (uint8) speed, (uint8) direction]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a0d8573d34327245ac74c4a0a1998a4a6" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a0d8573d34327245ac74c4a0a1998a4a6"></a>ISHOMED&#160;</td><td class="fielddoc"><p>R; Size: 1; [(uint8) isStalled]. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8e8dbb90cccefd4f3ee472c6e8c85c18a049669e5098c849cfd332fb8e5434c0a" name="a8e8dbb90cccefd4f3ee472c6e8c85c18a049669e5098c849cfd332fb8e5434c0a"></a>ISSETUP&#160;</td><td class="fielddoc"><p>R; Size: 1; [(uint8) isStalled]. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a16b777e9bc6a7378126942d3d786dcfb" name="a16b777e9bc6a7378126942d3d786dcfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16b777e9bc6a7378126942d3d786dcfb">&#9670;&#160;</a></span>Joint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Joint::Joint </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>reduction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a <a class="el" href="classJoint.html" title="Representing a single joint on the I2C bus.">Joint</a> object. </p>
<p>The <a class="el" href="classJoint.html" title="Representing a single joint on the I2C bus.">Joint</a> object represents a single joint and its actuator. Each <a class="el" href="classJoint.html" title="Representing a single joint on the I2C bus.">Joint</a> has a transmission with the following relationship: <br  />
 </p><blockquote class="doxtable">
<p>&zwj;actuator position = (joint position - offset) * reduction <br  />
joint position = actuator position / reduction + offset </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>string device name for identification </td></tr>
    <tr><td class="paramname">address</td><td>1-byte I2C device adress (0x11 ... 0x14) for J1 ... J4 </td></tr>
    <tr><td class="paramname">reduction</td><td>gear reduction of the joint. This is used to transform position and velocity values between in joint units and actuator (stepper) units. The sign depends on the direction is turning. Adjust such that the joint moves in the positive direction on on positive joint commands. Cable polarity has no effect since the motors automatically adjust to always run in the 'right' direction from their point of view. <br  />
J1: 35 <br  />
J2: -2*pi/0.004 (4 mm linear movement per stepper revolution) <br  />
J3: 24 <br  />
J4: 12 </td></tr>
    <tr><td class="paramname">offset</td><td>offset between actuator zero and joint zero (in joint units). Set this to the angle the joint is at when is is homed. F.x. since J2 is homing at the top the offset shall be a positive numer. <br  />
J1: (-)3.04647 <br  />
J2: 0.34935 <br  />
J3: (-)2.62672 <br  />
J4: (-)3.01069 </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd><ul>
<li>Measure joint ranges</li>
<li>Investigate if possible to make independent of homing </li>
</ul>
</dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9a8ab4b5a0cf027c7f433c744c956c5a" name="a9a8ab4b5a0cf027c7f433c744c956c5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a8ab4b5a0cf027c7f433c744c956c5a">&#9670;&#160;</a></span>checkCom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::checkCom </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a80055657a0ece2c9212eec16774d2789" name="a80055657a0ece2c9212eec16774d2789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80055657a0ece2c9212eec16774d2789">&#9670;&#160;</a></span>checkOrientation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::checkOrientation </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>angle</em> = <code>10.0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calls the checkOrientation method of the motor. Checks in which direction the motor is turning. </p>
<p>As the orientation check is blocking on the motor, this this function returns when the isBusy flag is clear again.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">angle</td><td>degrees how much the motor should turn. A few degrees is sufficient. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on communication error, -3 when the motor is not enabled, -4 when the motor is stalled. </dd></dl>

</div>
</div>
<a id="a5d3de221dc515ba43c8ae3a1d08751d6" name="a5d3de221dc515ba43c8ae3a1d08751d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3de221dc515ba43c8ae3a1d08751d6">&#9670;&#160;</a></span>deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnects from a joint. </p>
<p>Removes the joint from the I2C bus.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 when the joint could not be removed due to an I2C error. </dd></dl>

</div>
</div>
<a id="ac591f5aaee3d8afb2768a67e5f0e4f38" name="ac591f5aaee3d8afb2768a67e5f0e4f38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac591f5aaee3d8afb2768a67e5f0e4f38">&#9670;&#160;</a></span>disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::disable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>disenganges the joint motor without closing i2c handle </p>
<dl class="section return"><dt>Returns</dt><dd>error code. </dd></dl>

</div>
</div>
<a id="ac35fe15f5bbaf68a9751f02b9c5ee93d" name="ac35fe15f5bbaf68a9751f02b9c5ee93d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac35fe15f5bbaf68a9751f02b9c5ee93d">&#9670;&#160;</a></span>disableCL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::disableCL </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables the Closed-Loop PID Controller. </p>
<dl class="section return"><dt>Returns</dt><dd>error code. </dd></dl>

</div>
</div>
<a id="a3714c35d4488d03280a7c2dc9e415ee0" name="a3714c35d4488d03280a7c2dc9e415ee0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3714c35d4488d03280a7c2dc9e415ee0">&#9670;&#160;</a></span>enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::enable </td>
          <td>(</td>
          <td class="paramtype">u_int8_t&#160;</td>
          <td class="paramname"><em>driveCurrent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t&#160;</td>
          <td class="paramname"><em>holdCurrent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup the joint and engages motor. </p>
<p>This function prepares the motor for movement. After successfull execution the joint is ready to accept <a class="el" href="classJoint.html#a365628f72a742bb383f6e495b7d9f74a" title="get the current joint position in radians or m for cylindrical and prismatic joints respectively.">setPosition()</a> and <a class="el" href="classJoint.html#a3dbda9cbf3b38d85bc693a742998bbe0" title="Set the current joint velocity in radians/s or m/s for cylindrical and prismatic joints respectively.">setVelocity()</a> commands. <br  />
 The function ets the drive and hold current for the specified joint and engages the motor. The currents are in percent of driver max. output (2.5A, check with TMC5130 datasheet or Ustepper documentation) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">driveCurrent</td><td>drive current in 0-100 % of 2.5A output (check uStepper doc.) </td></tr>
    <tr><td class="paramname">holdCurrent</td><td>hold current in 0-100 % of 2.5A output (check uStepper doc.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on communication error, -3 when the motor is not enabled. </dd></dl>

</div>
</div>
<a id="a4269e05eca7c3d773d5ea2e7c25c2300" name="a4269e05eca7c3d773d5ea2e7c25c2300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4269e05eca7c3d773d5ea2e7c25c2300">&#9670;&#160;</a></span>enableStallguard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::enableStallguard </td>
          <td>(</td>
          <td class="paramtype">u_int8_t&#160;</td>
          <td class="paramname"><em>sensitivity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable encoder stall detection. A detected stall can be reset by homeing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sensitivity</td><td>Encoder stalldetect sensitivity - From -100 to 10 where lower number is less sensitive and higher is more sensitive </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acaabb82e69a71afd9d4822ed38d36bcc" name="acaabb82e69a71afd9d4822ed38d36bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaabb82e69a71afd9d4822ed38d36bcc">&#9670;&#160;</a></span>getFlags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u_int8_t Joint::getFlags </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>get driver state flags </p><dl class="section return"><dt>Returns</dt><dd>flags. </dd></dl>

</div>
</div>
<a id="abcda66b87fdca763475cf1cd7d309b1c" name="abcda66b87fdca763475cf1cd7d309b1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcda66b87fdca763475cf1cd7d309b1c">&#9670;&#160;</a></span>getPosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::getPosition </td>
          <td>(</td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the current joint position in radians or m for cylindrical and prismatic joints respectively. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

</div>
</div>
<a id="afce77655c67f0b8ce75acc4e0cfdd016" name="afce77655c67f0b8ce75acc4e0cfdd016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afce77655c67f0b8ce75acc4e0cfdd016">&#9670;&#160;</a></span>getVelocity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::getVelocity </td>
          <td>(</td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>vel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the current joint velocity in radians/s or m/s for cylindrical and prismatic joints respectively. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vel</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

</div>
</div>
<a id="a5ac099943f07278fa2f9c15c9f6d3002" name="a5ac099943f07278fa2f9c15c9f6d3002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ac099943f07278fa2f9c15c9f6d3002">&#9670;&#160;</a></span>home()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::home </td>
          <td>(</td>
          <td class="paramtype">u_int8_t&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t&#160;</td>
          <td class="paramname"><em>rpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t&#160;</td>
          <td class="paramname"><em>sensitivity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t&#160;</td>
          <td class="paramname"><em>current</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Homes the motor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">direction</td><td>CCW: 0, CW: 1. </td></tr>
    <tr><td class="paramname">rpm</td><td>speed of motor in rpm &gt; 10. </td></tr>
    <tr><td class="paramname">sensitivity</td><td>Encoder pid error threshold 0 to 255. </td></tr>
    <tr><td class="paramname">current</td><td>homeing current, determines how easy it is to stop the motor and thereby provoke a stall</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on communication error, -2 when not homed succesfull (isHomed flag still not set), -3 when the motor is not enabled. </dd></dl>

</div>
</div>
<a id="ab62f504bb7a06ced79c24c54e254349e" name="ab62f504bb7a06ced79c24c54e254349e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab62f504bb7a06ced79c24c54e254349e">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Established connection to a joint via I2C. </p>
<p>Adds the joint to the I2C bus and tests if is responsive by sending a PING.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on when no ACK is received from the joint, -2 if the I2C device could not be opened given the joint address. </dd></dl>

</div>
</div>
<a id="a21992c45ebb98f82de4af9620d6b3db2" name="a21992c45ebb98f82de4af9620d6b3db2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21992c45ebb98f82de4af9620d6b3db2">&#9670;&#160;</a></span>isEnabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Joint::isEnabled </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the state if the motor is enabled. </p>
<p>Reads the internal state flags from the last transmission. If an update is neccessary call <a class="el" href="classJoint.html#acaabb82e69a71afd9d4822ed38d36bcc">getFlags()</a> before invoking this function. If the motor actually can move depends on the state of the STALLED flag which can be checked using <a class="el" href="classJoint.html#a59b50f0bbd3dec54cc03ebd844078208" title="Checks if the motor is stalled.">isStalled()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the motor is enabled, false if not. </dd></dl>

</div>
</div>
<a id="ace70cee21bf7ff76ba85199a1d3f8d73" name="ace70cee21bf7ff76ba85199a1d3f8d73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace70cee21bf7ff76ba85199a1d3f8d73">&#9670;&#160;</a></span>isHomed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Joint::isHomed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the state if the motor is homed. </p>
<p>Reads the internal state flags from the last transmission. If an update is neccessary call <a class="el" href="classJoint.html#acaabb82e69a71afd9d4822ed38d36bcc">getFlags()</a> before invoking this function.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the motor is homed, false if not. </dd></dl>

</div>
</div>
<a id="a59b50f0bbd3dec54cc03ebd844078208" name="a59b50f0bbd3dec54cc03ebd844078208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59b50f0bbd3dec54cc03ebd844078208">&#9670;&#160;</a></span>isStalled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Joint::isStalled </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the motor is stalled. </p>
<p>Reads the internal state flags from the last transmission. If an update is neccessary call <a class="el" href="classJoint.html#acaabb82e69a71afd9d4822ed38d36bcc">getFlags()</a> before invoking this function. </p><dl class="section return"><dt>Returns</dt><dd>true if the motor is stalled, false if not. </dd></dl>

</div>
</div>
<a id="a833014ec8a9c7d9cf888c54bda13f644" name="a833014ec8a9c7d9cf888c54bda13f644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a833014ec8a9c7d9cf888c54bda13f644">&#9670;&#160;</a></span>moveSteps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::moveSteps </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>steps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move full steps. </p>
<p>This function can be called even when not homed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">steps</td><td>number of full steps </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on communication error, -3 when the motor is not enabled, -4 when the motor is stalled. </dd></dl>

</div>
</div>
<a id="abc0fef67c332a238cc0897c06d157a22" name="abc0fef67c332a238cc0897c06d157a22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc0fef67c332a238cc0897c06d157a22">&#9670;&#160;</a></span>printInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::printInfo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a438524f28b96d67c997b590c785b6e0e" name="a438524f28b96d67c997b590c785b6e0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a438524f28b96d67c997b590c785b6e0e">&#9670;&#160;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::read </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18">stp_reg_t</a>&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t &amp;&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wrapper function to request data from the I2C slave. </p>
<p>Allocates a buffer of size sizeof(T) + RFLAGS_SIZE. invokes <a class="el" href="uI2C_8h.html#a607cb25ea06e8ce952788a1e710e7f50" title="reads block of bytes from device to buffer">readFromI2CDev()</a>, and copies the received payload to <em>data</em> and the transmisison flags to <em>flags</em>. See <a class="el" href="classJoint.html#ac6a4b19a9a677e36deeaee7afd148497" title="State flags transmitted with every I2C transaction.">Joint::flags</a> for details. </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd><ul>
<li>Implement a return code for read only functions</li>
<li>Implement clearStall function </li>
</ul>
</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Datatype of value to be transmitted </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reg</td><td>stp_reg_t register to read </td></tr>
    <tr><td class="paramname">data</td><td>reference to store payload. </td></tr>
    <tr><td class="paramname">flags</td><td>reference to a byte which stores the return flags </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on OK, negative on error </dd></dl>

</div>
</div>
<a id="ace371fa42a397f96ac6bef7e2faffbbd" name="ace371fa42a397f96ac6bef7e2faffbbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace371fa42a397f96ac6bef7e2faffbbd">&#9670;&#160;</a></span>setBrakeMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::setBrakeMode </td>
          <td>(</td>
          <td class="paramtype">u_int8_t&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set Brake Mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>Freewheel: 0, Coolbrake: 1, Hardbrake: 2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code. </dd></dl>

</div>
</div>
<a id="a35a2db0195dc5dc7603810ab355acd94" name="a35a2db0195dc5dc7603810ab355acd94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35a2db0195dc5dc7603810ab355acd94">&#9670;&#160;</a></span>setDriveCurrent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::setDriveCurrent </td>
          <td>(</td>
          <td class="paramtype">u_int8_t&#160;</td>
          <td class="paramname"><em>current</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the Drive Current. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function is unreliable and not well tested. Use <a class="el" href="classJoint.html#a3714c35d4488d03280a7c2dc9e415ee0" title="Setup the joint and engages motor.">enable()</a> instead! </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current</td><td>0% - 100% of driver current </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code. </dd></dl>

</div>
</div>
<a id="ad6c87283498d811fbf7b4936225d5b77" name="ad6c87283498d811fbf7b4936225d5b77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6c87283498d811fbf7b4936225d5b77">&#9670;&#160;</a></span>setHoldCurrent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::setHoldCurrent </td>
          <td>(</td>
          <td class="paramtype">u_int8_t&#160;</td>
          <td class="paramname"><em>current</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the Hold Current. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function is unreliable and not well tested. Use <a class="el" href="classJoint.html#a3714c35d4488d03280a7c2dc9e415ee0" title="Setup the joint and engages motor.">enable()</a> instead! </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current</td><td>0% - 100% of driver current </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code. </dd></dl>

</div>
</div>
<a id="ace6f23fd07b18c93a5bfa0eb3b169ead" name="ace6f23fd07b18c93a5bfa0eb3b169ead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace6f23fd07b18c93a5bfa0eb3b169ead">&#9670;&#160;</a></span>setMaxAcceleration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::setMaxAcceleration </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>maxAccel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the maximum permitted joint acceleration (and deceleration) in rad/s^2 or m/s^2 for cylindrical and prismatic joints respectively. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maxAccel</td><td>maximum joint acceleration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

</div>
</div>
<a id="a4d0f0be9bc855b75ae88e88043f4bfa4" name="a4d0f0be9bc855b75ae88e88043f4bfa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d0f0be9bc855b75ae88e88043f4bfa4">&#9670;&#160;</a></span>setMaxVelocity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::setMaxVelocity </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>maxVel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the maximum permitted joint velocity in rad/s or m/s for cylindrical and prismatic joints respectively. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maxVel</td><td>maximum joint velocity. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

</div>
</div>
<a id="a365628f72a742bb383f6e495b7d9f74a" name="a365628f72a742bb383f6e495b7d9f74a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a365628f72a742bb383f6e495b7d9f74a">&#9670;&#160;</a></span>setPosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::setPosition </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the current joint position in radians or m for cylindrical and prismatic joints respectively. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>in rad or m </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on communication error, -2 when not homed, -3 when the motor is not enabled, -4 when the motor is stalled. </dd></dl>

</div>
</div>
<a id="a3dbda9cbf3b38d85bc693a742998bbe0" name="a3dbda9cbf3b38d85bc693a742998bbe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dbda9cbf3b38d85bc693a742998bbe0">&#9670;&#160;</a></span>setVelocity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::setVelocity </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>vel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the current joint velocity in radians/s or m/s for cylindrical and prismatic joints respectively. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vel</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on communication error, -2 when not homed, -3 when the motor is not enabled, -4 when the motor is stalled. </dd></dl>

</div>
</div>
<a id="a89deba37891f86ec4cedbd7e3e001133" name="a89deba37891f86ec4cedbd7e3e001133"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89deba37891f86ec4cedbd7e3e001133">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::stop </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the motor. </p>
<dl class="section note"><dt>Note</dt><dd>When stopping the motor in soft mode, wait sufficiently long until the motor has stopped. Since the <a class="el" href="classJoint.html#a89deba37891f86ec4cedbd7e3e001133" title="Stops the motor.">stop()</a> function in the motor controller is blocking. Continously checking the busy flag also might interfere with the <a class="el" href="classJoint.html#a89deba37891f86ec4cedbd7e3e001133" title="Stops the motor.">stop()</a> function on the controller side. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>Hard: 0, Soft: 1 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code. </dd></dl>

</div>
</div>
<a id="a516686bb9e04bccbd807e2c6123be730" name="a516686bb9e04bccbd807e2c6123be730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a516686bb9e04bccbd807e2c6123be730">&#9670;&#160;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::write </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJoint.html#a8e8dbb90cccefd4f3ee472c6e8c85c18">stp_reg_t</a>&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t &amp;&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wrapper function to send command to the I2C slave. </p>
<p>Allocates a buffer of size sizeof(T) + RFLAGS_SIZE. Copyies <em>data</em> to the buffer and invokes <a class="el" href="uI2C_8h.html#ab73613a3b862a54f70dff0b5192cbcac" title="writes block of bytes from buffer to device">writeToI2CDev()</a>. The flags received from the transaction are copied to <em>flags</em>. The flags are described in <a class="el" href="classJoint.html#a438524f28b96d67c997b590c785b6e0e" title="Wrapper function to request data from the I2C slave.">Joint::read()</a>.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Datatype of value to be transmitted </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reg</td><td>stp_reg_t command to execute </td></tr>
    <tr><td class="paramname">data</td><td>payload to transmit. It is the users responsibility to populate the right amount of data for the relevant register </td></tr>
    <tr><td class="paramname">flags</td><td>reference to a byte which stores the return flags </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on OK, negative on error </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7acd5a4c4b870de8674167b48504c95c" name="a7acd5a4c4b870de8674167b48504c95c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7acd5a4c4b870de8674167b48504c95c">&#9670;&#160;</a></span>address</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::address</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>I2C adress. </p>

</div>
</div>
<a id="ac6a4b19a9a677e36deeaee7afd148497" name="ac6a4b19a9a677e36deeaee7afd148497"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6a4b19a9a677e36deeaee7afd148497">&#9670;&#160;</a></span>flags</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u_int8_t Joint::flags = 0x00</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State flags transmitted with every I2C transaction. </p>
<p>The transmission flags purpose are to transmit the joints current state. Note: They can not be used as error indication of the execution of a transmitted write command, since commands are executed after the I2C transaction is completed. The status flags are one byte with following structure: <br  />
 </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">BIT7   </th><th class="markdownTableHeadNone">BIT6   </th><th class="markdownTableHeadNone">BIT5   </th><th class="markdownTableHeadNone">BIT4   </th><th class="markdownTableHeadNone">BIT3   </th><th class="markdownTableHeadNone">BIT2   </th><th class="markdownTableHeadNone">BIT1   </th><th class="markdownTableHeadNone">BIT0    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">reserved   </td><td class="markdownTableBodyNone">reserved   </td><td class="markdownTableBodyNone">reserved   </td><td class="markdownTableBodyNone">reserved   </td><td class="markdownTableBodyNone">ENABLED   </td><td class="markdownTableBodyNone">HOMED   </td><td class="markdownTableBodyNone">BUSY   </td><td class="markdownTableBodyNone">STALL   </td></tr>
</table>
<p><b>STALL</b> is set if a stall from the stall detection is sensed and the joint is stopped. The flag is cleared when the joint is homed or the Stallguard enabled. <br  />
<b>BUSY</b> is set if the slave is busy processing a previous command. <br  />
<b>HOMED</b> is cleared if the joint is homed. Movement is only allowed if this flag is clear <br  />
<b>ENABLED</b> is cleared if the joint is enabled after calling <a class="el" href="classJoint.html#a3714c35d4488d03280a7c2dc9e415ee0" title="Setup the joint and engages motor.">Joint::enable()</a> </p>

</div>
</div>
<a id="afae800e0e291c5833c10d625c90e19a5" name="afae800e0e291c5833c10d625c90e19a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afae800e0e291c5833c10d625c90e19a5">&#9670;&#160;</a></span>handle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Joint::handle = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>I2C bus handle. </p>

</div>
</div>
<a id="a57e3afaab4abae515d5053018e3cc886" name="a57e3afaab4abae515d5053018e3cc886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57e3afaab4abae515d5053018e3cc886">&#9670;&#160;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Joint::name</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a83ba15eb990b4a47501fc7377b5093ff" name="a83ba15eb990b4a47501fc7377b5093ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83ba15eb990b4a47501fc7377b5093ff">&#9670;&#160;</a></span>offset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Joint::offset = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classJoint.html" title="Representing a single joint on the I2C bus.">Joint</a> position offset. </p>

</div>
</div>
<a id="a8388570a9824deb1631cb6feec908335" name="a8388570a9824deb1631cb6feec908335"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8388570a9824deb1631cb6feec908335">&#9670;&#160;</a></span>reduction</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Joint::reduction = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classJoint.html" title="Representing a single joint on the I2C bus.">Joint</a> to actuator reduction ratio. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ROS2/ros2_scara_ws/src/dalsa_bioscara/bioscara_hardware_driver/include/bioscara_hardware_driver/<a class="el" href="mJoint_8h_source.html">mJoint.h</a></li>
<li>ROS2/ros2_scara_ws/src/dalsa_bioscara/bioscara_hardware_driver/include/bioscara_hardware_driver/<a class="el" href="mJoint_8hpp_source.html">mJoint.hpp</a></li>
<li>ROS2/ros2_scara_ws/src/dalsa_bioscara/bioscara_hardware_driver/src/<a class="el" href="mJoint_8cpp.html">mJoint.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
